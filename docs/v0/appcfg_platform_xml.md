## appcfg platform xml

How to transform XML response data

### Synopsis

HTTP response data formatted as XML can be transformed in to JSON (the data
format expected by the Gladly App Platform) via the "response_transformation.gtpl"
template file associated with a data pull or action.

When the "Content-Type" of the HTTP response is either "text/xml" or
"application/xml", the "rawData" template data attribute will be similar
to an XML Document Object Model (DOM) object. Currently only XML data
using the UTF-8 character set is supported.

You will use the fields and functions exposed by this XML Document object in
order to extract relevant data to be represented as JSON.

Make sure to use a ".xml" extension instead of a ".json" extension when
defining a "rawData" attribute file for your tests.

The "rawData" template data attribute references an object of type *Document.

## Document

### Fields

Root        *Node

### Functions

XML() string

## Node

### Fields

Document    *Document

Parent      *Node

Attributes  []*Attribute

Children    []*Node

Text string

### Functions

GetAttribute(name string) *Attribute

GetAttributeValue(name string) string

GetChild(name string) *Node

GetChildren(name string) []*Node

FirstChild() *Node

LastChild() *Node

PrevSibling() *Node

NextSibling() *Node

FindByID(id string) *Node

FindOneByName(name string) *Node

FindByName(name string) []*Node

## Attribute

### Fields

Name        string

Value       string

# Example

``` XML
<?xml version="1.0" encoding="UTF-8"?>
<orders>
    <order>
        <item> White T-Shirt</item>
        <price>29.99</price>
    </order>
    <order>
        <item>Black Socks</item>
        <price>9.99</price>
    </order>
</orders>
```

Desired JSON output

``` JSON
[
    {
        "item": "White T-Shirt",
        "price": 29.99
    },
    {
        "item": "Black Socks",
        "price": 9.99
    }
]
```

response_transformation.gtpl

```
[
    {{- range $index, $order := (.rawData.Root.GetChildren "order") }}{{if gt $index 0}},{{end}}
    {
        "item": "{{($order.GetChild "item").Text}}",
        "price": {{($order.GetChild "price").Text}}
    }
    {{- end}}
]
```


```
appcfg platform xml [flags]
```

### Options

```
  -h, --help   help for xml
```

### Options inherited from parent commands

```
  -r, --root string   root folder for the app configuration; alternatively set the
                      GLADLY_APP_CFG_ROOT environment variable
```

### SEE ALSO

* [appcfg platform](appcfg_platform.md)	 - General Gladly app platform documentation

###### Auto generated by spf13/cobra on 29-May-2024
